<h1>–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ {{ company.name }}</h1>

<p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ, <strong>{{ user.name }}</strong>!</p>

<div style="background: #d4edda; color: #155724; padding: 16px; border-radius: 8px; margin: 16px 0;">
  –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥ –º—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ <strong>{{ company.projects }}+ –ø—Ä–æ–µ–∫—Ç–æ–≤</strong> –∏ –ø–æ–ª—É—á–∏–ª–∏ –≤—ã—Å–æ–∫–∏–µ –æ—Ü–µ–Ω–∫–∏ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤!
</div>

<h2>–ò–∑–±—Ä–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã</h2>

{% for project in projects %}
{% if project.featured %}
<div style="background: #fff3cd; padding: 24px; border-radius: 12px; margin: 16px 0; border: 1px solid #e9ecef;">
  <h3>{{ project.name }} ({{ project.year }})</h3>
  <p><strong>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</strong> {{ project.tech }}</p>
  <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> {{ project.result }}</p>
  
  <span style="background: #28a745; color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; margin-right: 8px;">
    ‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π
  </span>
  
  <button onclick="alert('–ü—Ä–æ–µ–∫—Ç {{ project.name }} - –æ–¥–∏–Ω –∏–∑ –Ω–∞—à–∏—Ö –ª—É—á—à–∏—Ö!')" 
          style="background: #667eea; color: white; padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer;">
    –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø—Ä–æ–µ–∫—Ç–µ
  </button>
</div>
{% endif %}
{% endfor %}

<h2>–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã</h2>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; margin: 20px 0;">
{% for project in projects %}
<div style="background: {% if project.featured %}#e3f2fd{% else %}#f8f9fa{% endif %}; padding: 20px; border-radius: 8px; border: 1px solid #dee2e6;">
  <h4>{{ project.name }}</h4>
  <p><strong>–ì–æ–¥:</strong> {{ project.year }}</p>
  <p><strong>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</strong> {{ project.tech }}</p>
  <p><strong>–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ:</strong> {{ project.result }}</p>
  
  {% if project.featured %}
  <div style="text-align: center; margin-top: 10px;">
    <span style="background: #28a745; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
      {{ 1 | repeat("‚≠ê") }} –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π
    </span>
  </div>
  {% endif %}
</div>
{% endfor %}
</div>

<h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤</h2>

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 16px 0;">
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
    <div style="text-align: center;">
      <h3 style="color: #667eea; margin: 0;">{{ company.projects | formatNumber }}</h3>
      <p style="margin: 5px 0; color: #666;">–í—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
    </div>
    <div style="text-align: center;">
      <h3 style="color: #27ae60; margin: 0;">{{ currentYear - company.founded }}</h3>
      <p style="margin: 5px 0; color: #666;">–õ–µ—Ç –æ–ø—ã—Ç–∞</p>
    </div>
    <div style="text-align: center;">
      <h3 style="color: #f39c12; margin: 0;">{{ 5 | repeat("‚≠ê") }}</h3>
      <p style="margin: 5px 0; color: #666;">–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞</p>
    </div>
    <div style="text-align: center;">
      <h3 style="color: #e74c3c; margin: 0;">{{ (projects | selectattr("featured") | list | length) }}</h3>
      <p style="margin: 5px 0; color: #666;">–ò–∑–±—Ä–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
    </div>
  </div>
</div>

{% if company.projects >= 50 %}
<div style="background: #fff3cd; color: #856404; padding: 16px; border-radius: 8px; margin: 16px 0;">
  üèÜ <strong>–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!</strong> –ú—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –±–æ–ª–µ–µ 50 –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –≥–æ—Ç–æ–≤—ã –±—Ä–∞—Ç—å—Å—è –∑–∞ —Å–∞–º—ã–µ —Å–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏!
</div>
{% endif %}

<h2>–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤</h2>

{% for testimonial in testimonials %}
<div style="background: #f8f9fa; padding: 24px; border-radius: 12px; margin: 16px 0; border-left: 4px solid #667eea;">
  <h4>{{ testimonial.author }}, {{ testimonial.company }}</h4>
  <blockquote style="font-style: italic; margin: 16px 0; color: #666; font-size: 18px;">
    "{{ testimonial.text }}"
  </blockquote>
  <p><strong>–û—Ü–µ–Ω–∫–∞:</strong> {{ testimonial.rating | repeat("‚≠ê") }}</p>
  
  {# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –≤—ã—Å–æ–∫–∏—Ö –æ—Ü–µ–Ω–æ–∫ #}
  {% if testimonial.rating >= 5 %}
  <small style="color: #28a745;">‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞</small>
  {% endif %}
</div>
{% endfor %}

{# –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ä–µ–¥–Ω—é—é –æ—Ü–µ–Ω–∫—É #}
{% set totalRating = 0 %}
{% for testimonial in testimonials %}
  {% set totalRating = totalRating + testimonial.rating %}
{% endfor %}
{% set averageRating = (totalRating / testimonials.length) %}

<div style="background: #e8f5e8; color: #2d5a2d; padding: 16px; border-radius: 8px; margin: 16px 0;">
  <strong>–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤:</strong> {{ averageRating | round(1) }}/5 {{ averageRating | round | repeat("‚≠ê") }}
</div>

<button onclick="alert('–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω—Ç–µ—Ä–µ—Å –∫ —Ä–∞–±–æ—Ç–∞–º {{ company.name }}!')" 
        style="background: #27ae60; color: white; padding: 16px 32px; border: none; border-radius: 6px; cursor: pointer; font-size: 18px;">
  –°—Ç–∞—Ç—å –Ω–∞—à–∏–º –∫–ª–∏–µ–Ω—Ç–æ–º
</button>

{% if user.role == 'manager' %}
<div style="background: #e8f4fd; border: 1px solid #b3d4fc; padding: 15px; border-radius: 8px; margin: 20px 0;">
  <h4>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞</h4>
  <p><strong>–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ:</strong> {{ company.projects * 3 | formatNumber }}</p>
  <p><strong>–ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –∑–∞—è–≤–∫–∏:</strong> 12.5%</p>
  <p><strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</strong> {{ currentDate }}</p>
</div>
{% endif %}

<hr style="margin: 40px 0;">

<p style="color: #666; font-size: 14px;">
  <strong>–û–±–Ω–æ–≤–ª–µ–Ω–æ:</strong> {{ currentDate }} | 
  <strong>–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç:</strong> {{ user.name }} ({{ user.role }}) |
  <strong>–ó–∞–≥—Ä—É–∂–µ–Ω–æ:</strong> {{ loadTime }}
</p>